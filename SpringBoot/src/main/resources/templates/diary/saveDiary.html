<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
  <title>Instagram</title>
  <link href="/css/common.css" rel="stylesheet" type="text/css" />
  <link href="/css/diary.css" rel="stylesheet" type="text/css" />
  <!-- favicon -->
  <link rel="icon" href="/img/favicon.png">
  <link rel="instagram-icon" href="/img/favicon.png">
</head>

<body>
<!-- navigation -->
<nav>
  <h1>ğ‘¨ğ’ˆğ’†ğ’ğ’…ğ’‚</h1>
  <div class="menu">
    <div class="nav_menu">
      <img src="/img/home.png" alt="í™ˆ">
      <div class="nav_span"><span>í™ˆ</span></div>
    </div>

    <div class="nav_menu">
      <img src="/img/dm.png" alt="DM">
      <div class="nav_span"><span>ê²€ìƒ‰</span></div>
    </div>

    <div class="nav_menu">
      <img src="/img/home.png" alt="í™ˆ">
      <div class="nav_span"><span>ë§Œë“¤ê¸°</span></div>
    </div>

    <div class="nav_menu">
      <img class="pic" src="/img/profile.png" alt="ë§ˆì´í˜ì´ì§€">
      <div class="nav_span"><span>í”„ë¡œí•„</span></div>
    </div>

    <div class="nav_menu">
      <div class="nav_span"><span>ë¡œê·¸ì•„ì›ƒ</span></div>
    </div>
  </div>
</nav>

<!-- main -->
<main>
  <div>
    <form role="form" id="diaryForm">
      <div>
        <label for="content" style="margin-bottom: 10px; font-weight: bold;">ë‚´ìš©:</label>
        <textarea id="content" name="content" required style="width: 100%; height: 150px; border: 1px solid #ddd; border-radius: 5px; padding: 10px;"></textarea>
      </div>
      <div>
        <label for="photo" style="margin-bottom: 10px; font-weight: bold;">ì‚¬ì§„:</label>
        <textarea id="photo" name="photo" required style="width: 100%; height: 150px; border: 1px solid #ddd; border-radius: 5px; padding: 10px;"></textarea>
      </div>
      <button type="button" onclick="submitForm()" style="margin-top: 10px; padding: 10px 20px; background-color: #0095f6; color: #fff; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">ë“±ë¡</button>
    </form>
  </div>
</main>


<footer>
  <p class="insta-sccript">
    ì†Œê°œ âˆ™ ë„ì›€ë§ âˆ™ í™ë³´ ì„¼í„° âˆ™ API âˆ™ ì±„ìš© ì •ë³´ âˆ™ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ âˆ™ <br>ì•½ê´€ âˆ™ ìœ„ì¹˜ âˆ™ ì¸ê¸°ê³„ì • âˆ™ í•´ì‹œíƒœê·¸ âˆ™ ì–¸ì–´
    <br><br>
    Â© 2020 INSTAGRAM FROM FACEBOOK
  </p>
</footer>

<script>
  function submitForm() {
    var formData = {
      content: $('#content').val(),
      photo: $('#photo').val()
    };

    $.ajax({
      type: 'POST',
      url: '/api/diary/save_proc',
      contentType: 'application/json',
      data: JSON.stringify(formData),
      success: function(response) {
        // ì„œë²„ë¡œë¶€í„°ì˜ ì‘ë‹µ ì²˜ë¦¬
        window.location.href = '/api/diary/list/1';
      },
      error: function(xhr, status, error) {
        console.log(xhr.responseText);
        // ì˜¤ë¥˜ ì²˜ë¦¬
      }
    });
  }
</script>
</body>

</html>
